docker publishes the file
docker publish
docker compose might not work so trouble shoot
environment = development

docker compose file has alias in network, network settings "wvupsmapi"


notepad c:\windows\system32\drivers\etc\hosts


.UseWebListener( options =>
                {
                    options.ListenerSettings.Authentication.Schemes =
                        AuthenticationSchemes.Negotiate | AuthenticationSchemes.NTLM;
                    options.ListenerSettings.Authentication.AllowAnonymous = true;

                })

<aspNetCore processPath="dotnet" arguments=".\SMP.MVC.dll" stdoutLogEnabled="false" stdoutLogFile=".\logs\stdout">
      <environmentVariables>
        <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development"/>
        <environmentVariable name="CONFIG_DIR" value="C:\inetpub\wwwroot"/>
      </environmentVariables>
    </aspNetCore>


app.Run(async (context) =>
            {
                try
                {
                    var user = (WindowsIdentity)context.User.Identity;
                    await context.Response
                            .WriteAsync($"User: {user.Name}\tState: {user.ImpersonationLevel}\n");
                    WindowsIdentity.RunImpersonated(user.AccessToken, () =>
                    {
                        var impersonatedUser = WindowsIdentity.GetCurrent();
                        var message =
                            $"User: {impersonatedUser.Name}\tState: {impersonatedUser.ImpersonationLevel}";

                        var bytes = Encoding.UTF8.GetBytes(message);
                        context.Response.Body.Write(bytes, 0, bytes.Length);
                    });
                }
                catch (Exception e)
                {
                    await context.Response.WriteAsync(e.ToString());
                }
            });